#!/usr/bin/env sh

echo "ğŸª„  Running ESLint..."
yarn run lint --max-warnings=0

current_branch=$(git branch --show-current)

restricted_branches="^(main|master|dev)$"

if [[ $current_branch =~ $restricted_branches ]]; then
  echo "âŒ You are on a restricted branch: $current_branch.. âŒ"
  echo "âŒ Pushs to this branch are not allowed via pre-Push hook.. âŒ"
  exit 1
fi

echo "ğŸš€ Linting passed. Proceeding with Push."